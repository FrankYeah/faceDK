(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{727:function(t,e,l){},728:function(t,e,l){"use strict";l(727)},729:function(t,e,l){"use strict";l.r(e);var n={components:{},props:{departmentData:{type:Array,default:function(){return{}}}},data:function(){return{filterLabel:null,selectedData:{label:[],id:[]},defaultProps:{children:"children",label:"label"}}},mounted:function(){},computed:{},methods:{filterNode:function(t,data){return!t||-1!==data.label.indexOf(t)},selectData:function(){var t=this;this.selectedData.label=[],this.$refs.tree.getCheckedNodes().forEach((function(e){t.selectedData.label.push(e.label)})),this.selectedData.id=this.$refs.tree.getCheckedKeys()},deleteData:function(t,e){this.$refs.tree.setChecked(t,!1),this.selectedData.label.splice(e,1),this.selectedData.id.splice(e,1)},cleanData:function(){var t=this;this.selectedData.id.forEach((function(e){t.$refs.tree.setChecked(e,!1)})),this.selectedData.label=[],this.selectedData.id=[]},closeDialog:function(){this.$emit("switchDialog",!1)},sendData:function(){this.$emit("getData",this.selectedData),this.closeDialog()}},watch:{filterLabel:function(t){this.$refs.tree.filter(t)}}},o=(l(728),l(30)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"dialog"},[l("div",{staticClass:"dialog-row"},[l("div",{staticClass:"dialog-box"},[l("div",{staticClass:"dialog-hint"},[t._v("請選擇部門")]),t._v(" "),l("div",{staticClass:"dialog-card"},[l("input",{directives:[{name:"model",rawName:"v-model",value:t.filterLabel,expression:"filterLabel"}],staticClass:"dialog-input",attrs:{type:"text"},domProps:{value:t.filterLabel},on:{input:function(e){e.target.composing||(t.filterLabel=e.target.value)}}}),t._v(" "),l("el-tree",{ref:"tree",attrs:{data:t.departmentData,"show-checkbox":"","node-key":"id",props:t.defaultProps,"default-expanded-keys":[4],"filter-node-method":t.filterNode},on:{check:t.selectData}})],1)]),t._v(" "),l("div",{staticClass:"dialog-box"},[l("div",{staticClass:"dialog-rowtext"},[l("div",[t._v("已選擇部門（"+t._s(t.selectedData.label.length)+"）")]),t._v(" "),l("div",{on:{click:t.cleanData}},[t._v("全部清除")])]),t._v(" "),l("div",{staticClass:"dialog-card"},t._l(t.selectedData.label,(function(label,e){return l("div",{key:e,staticClass:"dialog-rowselected"},[l("div",[t._v(t._s(label))]),t._v(" "),l("div",{on:{click:function(l){return t.deleteData(t.selectedData.id[e],e)}}},[t._v("X")])])})),0)])]),t._v(" "),l("div",{staticClass:"dialog-btn"},[l("el-button",{attrs:{type:"info"},on:{click:function(e){return t.closeDialog()}}},[t._v("取消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sendData()}}},[t._v("確定")])],1)])}),[],!1,null,null,null);e.default=component.exports},750:function(t,e,l){},770:function(t,e,l){"use strict";l(750)},790:function(t,e,l){"use strict";l.r(e);var n={head:{title:"Dashboard"},layout:"default",components:{dialogDepartment:l(729).default},props:{},data:function(){return{select:{isShowDepartment:!1,department:"全部"},departmentData:[{id:1,label:"三處"},{id:2,label:"四處"},{id:3,label:"營業部"},{id:4,label:"一所",children:[{id:5,label:"三所"},{id:6,label:"四所"}]},{id:7,label:"設計部"}],filter:{dataAll:[],text:""},tableHead:[{name:"name",label:"員工名稱"},{name:"phone",label:"聯絡方式"},{name:"title",label:"員工職稱"},{name:"status",label:"就職狀態"},{name:"time",label:"建立時間"},{name:"mani",label:"操作"}],tableData:[{name:"王小美",phone:"0909-991-233",title:"主管",status:"在職",time:"2022-02-26 15:56:23",mani:{use:!1,edit:!0,watch:!0}},{name:"王大美",phone:"0909-991-233",title:"主管",status:"離職",time:"2022-02-26 15:56:23",mani:{use:!0,edit:!0,watch:!0}}]}},mounted:function(){this.filter.dataAll=this.tableData},destroyed:function(){},computed:{},methods:{choose:function(){},exportList:function(){},inportList:function(){},addNew:function(){},switchDialog:function(t){this.select.isShowDepartment=t},getData:function(data){this.select.department=data.label.join(", ")},ManiData:function(t){this.$router.push({path:"/personnel-detail",query:{id:t}})}},watch:{"filter.text":{handler:function(t){this.filter.dataAll=this.tableData.filter((function(data){return!t||data.name.toLowerCase().includes(t.toLowerCase())}))}}}},o=(l(770),l(30)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"leave"},[l("div",{staticClass:"leave-list"},[l("div",{staticClass:"global-line"}),t._v(" "),l("div",{staticClass:"leave-row-box"},[l("div",{staticClass:"leave-department-box"},[l("div",[t._v("選擇部門：")]),t._v(" "),l("div",{staticClass:"leave-row"},[l("div",{staticClass:"leave-department-input",on:{click:function(e){t.select.isShowDepartment=!0}}},[t._v(t._s(t.select.department))]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.choose()}}},[t._v("選擇")])],1)])])]),t._v(" "),l("div",{staticClass:"leave-status"},[l("div",{staticClass:"leave-status-row"},[l("div",{staticClass:"leave-title"},[t._v("名單列表")]),t._v(" "),l("div",{staticClass:"leave-btn-row"},[l("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.exportList()}}},[t._v("匯出員工名單")]),t._v(" "),l("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.inportList()}}},[t._v("匯入員工名單")]),t._v(" "),l("router-link",{attrs:{to:"/personnel-new"}},[l("el-button",{attrs:{type:"primary"}},[t._v("新增員工")])],1)],1)]),t._v(" "),l("div",{staticClass:"global-line"}),t._v(" "),l("div",{staticClass:"leave-table-main"},[l("div",{staticClass:"leave-table-row"},[l("div"),t._v(" "),l("div",[l("el-input",{attrs:{placeholder:"搜尋","prefix-icon":"el-icon-search"},model:{value:t.filter.text,callback:function(e){t.$set(t.filter,"text",e)},expression:"filter.text"}})],1)]),t._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.filter.dataAll}},[l("el-table-column",{attrs:{prop:"name",label:"員工名稱",sortable:"","min-width":"10"}}),t._v(" "),l("el-table-column",{attrs:{prop:"phone",label:"聯絡方式",sortable:"","min-width":"12"}}),t._v(" "),l("el-table-column",{attrs:{prop:"title",label:"員工職稱",sortable:"","min-width":"12"}}),t._v(" "),l("el-table-column",{attrs:{label:"就職狀態","min-width":"12"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("div",{style:"\n              "+("離職"==e.row.status?"color: red;":"")+"\n            "},[t._v(t._s(e.row.status))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"time",label:"建立時間",sortable:"","min-width":"15"}}),t._v(" "),l("el-table-column",{attrs:{label:"操作","min-width":"25"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.mani.use?l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.row.mani.use=!1}}},[t._v("啟用")]):l("el-button",{attrs:{size:"mini",type:"info",plain:""},on:{click:function(t){e.row.mani.use=!0}}},[t._v("停用")]),t._v(" "),l("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-edit"},on:{click:function(l){return t.ManiData(e.$index)}}}),t._v(" "),l("el-button",{staticStyle:{backgroundColor:"#51438f",color:"white"},attrs:{size:"mini",icon:"el-icon-view"},on:{click:function(l){return t.ManiData(e.$index)}}})]}}])})],1),t._v(" "),l("div",{staticClass:"leave-table-hint"},[l("div",[t._v("目前顯示 1 到 3 全部 3 筆")]),t._v(" "),l("div",[l("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:200}})],1)])],1)]),t._v(" "),l("el-dialog",{attrs:{title:"選擇部門",visible:t.select.isShowDepartment},on:{"update:visible":function(e){return t.$set(t.select,"isShowDepartment",e)}}},[l("dialogDepartment",{attrs:{departmentData:t.departmentData},on:{switchDialog:t.switchDialog,getData:t.getData}})],1)],1)}),[],!1,null,"1043404c",null);e.default=component.exports}}]);